---
import Navegation from '../components/navegation.astro';
import Footer from '../components/footer.astro';
import '../styles/global.css';

// Importa os posts automaticamente
const posts = await Astro.glob('./posts/*.md');
posts.sort((a, b) => new Date(b.frontmatter.date) - new Date(a.frontmatter.date)); // Ordena do mais recente para o mais antigo
---

<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Meu Blog</title>
  </head>
  <body>
    <Navegation />

    <h1 class="text-center text-3xl font-bold mt-6"> Blog</h1>
    <p class="text-center text-lg text-gray-700 mb-6">Oi! Aqui, vocÃª encontra textos psico-educacionais curtos sobre diversos assuntos. Boa leitura!
    </p>

    <!-- Container do Mural -->
    <div class="flex flex-wrap justify-center gap-4 p-4">
      {posts.map((post) => (
        <a href=/blogansieade class="w-64 flex flex-col items-center border rounded-lg shadow-lg p-4 hover:bg-gray-200 transition">
          <img
            src={post.frontmatter.image.url}
            alt={post.frontmatter.image.alt}
            class="w-full h-48 object-cover"
          />
          <h3 class="text-lg font-semibold text-center mt-2">{post.frontmatter.title}</h3>
          <p class="text-sm text-gray-600 text-center">{post.frontmatter.description}</p>
        </a>
      ))}
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4">
      {posts.map((post) => (
      <a href=/blogansieade class="w-full flex flex-col items-center border rounded-lg shadow-lg p-4 hover:bg-gray-200 transition">
        <img
        src={post.frontmatter.image.url}
        alt={post.frontmatter.image.alt}
        class="w-full h-48 object-cover"
        />
        <h3 class="text-lg font-semibold text-center mt-2">{post.frontmatter.title}</h3>
        <p class="text-sm text-gray-600 text-center">{post.frontmatter.description}</p>
      </a>
      ))}
    </div>

    <Footer />
  </body>
</html>
